# üó∫Ô∏è –ö–ê–†–¢–ê –ë–û–¢–ê "–ü–û–ü–£–¢–ß–ò–ö"

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 21.01.2026 18:19

---

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback_query](#–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏-callback_query)
2. [–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ message](#–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏-message)
3. [FSM –°–æ—Å—Ç–æ—è–Ω–∏—è](#fsm-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
4. [–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã](#–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
5. [–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞](#–Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è-–∫–∞—Ä—Ç–∞)

---

## üîò –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback_query

–í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ inline –∫–Ω–æ–ø–∫–∏:

### `create_route*`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 216)
- **–§—É–Ω–∫—Ü–∏—è:** `start_create_route()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `date_*`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 342)
- **–§—É–Ω–∫—Ü–∏—è:** `process_date()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `driver:profile:*`

- **–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 530)
- **–§—É–Ω–∫—Ü–∏—è:** `show_driver_profile()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `driver:profile:*`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 366)
- **–§—É–Ω–∫—Ü–∏—è:** `show_driver_profile()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `driver:profile:close`

- **–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 520)
- **–§—É–Ω–∫—Ü–∏—è:** `close_driver_profile()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `driver:profile:close`

- **–§–∞–π–ª:** `handlers\my_trips\my_trips_handler.py` (—Å—Ç—Ä–æ–∫–∞ 233)
- **–§—É–Ω–∫—Ü–∏—è:** `close_driver_profile()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `driver:profile:close`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 357)
- **–§—É–Ω–∫—Ü–∏—è:** `close_driver_profile()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `editcal:*`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 642)
- **–§—É–Ω–∫—Ü–∏—è:** `process_calendar()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `main_menu`

- **–§–∞–π–ª:** `handlers\menu.py` (—Å—Ç—Ä–æ–∫–∞ 94)
- **–§—É–Ω–∫—Ü–∏—è:** `show_main_menu()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `menu:my_trips`

- **–§–∞–π–ª:** `handlers\my_trips\list_handler.py` (—Å—Ç—Ä–æ–∫–∞ 157)
- **–§—É–Ω–∫—Ü–∏—è:** `show_my_trips()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `month_*`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 314)
- **–§—É–Ω–∫—Ü–∏—è:** `navigate_month()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `my_routes`

- **–§–∞–π–ª:** `handlers\my_routes\list_handler.py` (—Å—Ç—Ä–æ–∫–∞ 70)
- **–§—É–Ω–∫—Ü–∏—è:** `show_my_routes()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `my_trips`

- **–§–∞–π–ª:** `handlers\my_trips\my_trips_handler.py` (—Å—Ç—Ä–æ–∫–∞ 117)
- **–§—É–Ω–∫—Ü–∏—è:** `show_my_trips()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `myroutes:back:*`

- **–§–∞–π–ª:** `handlers\my_routes\details_handler.py` (—Å—Ç—Ä–æ–∫–∞ 162)
- **–§—É–Ω–∫—Ü–∏—è:** `back_to_card()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:cancel:*`

- **–§–∞–π–ª:** `handlers\my_routes\cancel_handler.py` (—Å—Ç—Ä–æ–∫–∞ 59)
- **–§—É–Ω–∫—Ü–∏—è:** `show_cancel_confirmation()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:cancel_confirm:*`

- **–§–∞–π–ª:** `handlers\my_routes\cancel_handler.py` (—Å—Ç—Ä–æ–∫–∞ 121)
- **–§—É–Ω–∫—Ü–∏—è:** `cancel_route()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:cancel_no:*`

- **–§–∞–π–ª:** `handlers\my_routes\cancel_handler.py` (—Å—Ç—Ä–æ–∫–∞ 317)
- **–§—É–Ω–∫—Ü–∏—è:** `cancel_no()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:comment_*`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 718)
- **–§—É–Ω–∫—Ü–∏—è:** `handle_comment_action()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:details:*`

- **–§–∞–π–ª:** `handlers\my_routes\details_handler.py` (—Å—Ç—Ä–æ–∫–∞ 70)
- **–§—É–Ω–∫—Ü–∏—è:** `show_route_details()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:edit:*`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 362)
- **–§—É–Ω–∫—Ü–∏—è:** `show_edit_menu()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:edit_back:*`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 537)
- **–§—É–Ω–∫—Ü–∏—è:** `back_to_edit_menu()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:edit_cancel:*`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 1186)
- **–§—É–Ω–∫—Ü–∏—è:** `cancel_edit()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:edit_done:*`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 1057)
- **–§—É–Ω–∫—Ü–∏—è:** `finish_edit()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:edit_field:*`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 431)
- **–§—É–Ω–∫—Ü–∏—è:** `start_field_edit()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `myroutes:restore:*`

- **–§–∞–π–ª:** `handlers\my_routes\cancel_handler.py` (—Å—Ç—Ä–æ–∫–∞ 215)
- **–§—É–Ω–∫—Ü–∏—è:** `restore_route()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `mytrips:cancel:*`

- **–§–∞–π–ª:** `handlers\my_trips\list_handler.py` (—Å—Ç—Ä–æ–∫–∞ 176)
- **–§—É–Ω–∫—Ü–∏—è:** `cancel_trip()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `mytrips:cancel:*`

- **–§–∞–π–ª:** `handlers\my_trips\my_trips_handler.py` (—Å—Ç—Ä–æ–∫–∞ 157)
- **–§—É–Ω–∫—Ü–∏—è:** `cancel_trip_request()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `mytrips:chat:error:*`

- **–§–∞–π–ª:** `handlers\my_trips\my_trips_handler.py` (—Å—Ç—Ä–æ–∫–∞ 243)
- **–§—É–Ω–∫—Ü–∏—è:** `chat_error()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `mytrips:page:*`

- **–§–∞–π–ª:** `handlers\my_trips\list_handler.py` (—Å—Ç—Ä–æ–∫–∞ 163)
- **–§—É–Ω–∫—Ü–∏—è:** `show_trips_page()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `profile`

- **–§–∞–π–ª:** `handlers\profile\view.py` (—Å—Ç—Ä–æ–∫–∞ 36)
- **–§—É–Ω–∫—Ü–∏—è:** `show_profile()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:delete`

- **–§–∞–π–ª:** `handlers\profile\delete.py` (—Å—Ç—Ä–æ–∫–∞ 25)
- **–§—É–Ω–∫—Ü–∏—è:** `delete_account_confirm()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:delete:confirm`

- **–§–∞–π–ª:** `handlers\profile\delete.py` (—Å—Ç—Ä–æ–∫–∞ 66)
- **–§—É–Ω–∫—Ü–∏—è:** `delete_account_execute()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:delete:photo`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 468)
- **–§—É–Ω–∫—Ü–∏—è:** `delete_photo_confirm()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:delete:photo:confirm`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 491)
- **–§—É–Ω–∫—Ü–∏—è:** `delete_photo_execute()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:edit`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 90)
- **–§—É–Ω–∫—Ü–∏—è:** `show_edit_menu()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:edit:bio`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 257)
- **–§—É–Ω–∫—Ü–∏—è:** `edit_bio_start()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:edit:cancel`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 505)
- **–§—É–Ω–∫—Ü–∏—è:** `edit_cancel()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:edit:name`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 140)
- **–§—É–Ω–∫—Ü–∏—è:** `edit_name_start()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `profile:edit:photo`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 361)
- **–§—É–Ω–∫—Ü–∏—è:** `edit_photo_start()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `reply:accept:*`

- **–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 233)
- **–§—É–Ω–∫—Ü–∏—è:** `on_driver_accept()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `reply:reject:*`

- **–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 359)
- **–§—É–Ω–∫—Ü–∏—è:** `on_driver_reject()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `route:chat:error:*`

- **–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 508)
- **–§—É–Ω–∫—Ü–∏—è:** `on_chat_error()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `route:chat:error:*`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 439)
- **–§—É–Ω–∫—Ü–∏—è:** `chat_error()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `route:chat:open:*`

- **–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 453)
- **–§—É–Ω–∫—Ü–∏—è:** `on_open_chat()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `route_back`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 693)
- **–§—É–Ω–∫—Ü–∏—è:** `back_step()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `route_cancel`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 664)
- **–§—É–Ω–∫—Ü–∏—è:** `cancel_route()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `route_publish`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 622)
- **–§—É–Ω–∫—Ü–∏—è:** `publish_route()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `route_publish_now`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 577)
- **–§—É–Ω–∫—Ü–∏—è:** `publish_without_comment()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `rs:card:reply:*`

- **–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 122)
- **–§—É–Ω–∫—Ü–∏—è:** `on_passenger_reply()`
- **–¢–∏–ø:** –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å

### `search:apply`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 300)
- **–§—É–Ω–∫—Ü–∏—è:** `apply_search()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `search:start`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 174)
- **–§—É–Ω–∫—Ü–∏—è:** `start_search()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `search_route`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 131)
- **–§—É–Ω–∫—Ü–∏—è:** `show_all_routes()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

### `welcome:continue`

- **–§–∞–π–ª:** `handlers\menu.py` (—Å—Ç—Ä–æ–∫–∞ 83)
- **–§—É–Ω–∫—Ü–∏—è:** `continue_after_welcome()`
- **–¢–∏–ø:** –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

---

## üí¨ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ message

–í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:

### `cmd_start()`

- **–§–∞–π–ª:** `handlers\menu.py` (—Å—Ç—Ä–æ–∫–∞ 32)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `CommandStart(`

### `back_to_menu()`

- **–§–∞–π–ª:** `handlers\navigation.py` (—Å—Ç—Ä–æ–∫–∞ 7)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `F.text == "‚óÄÔ∏è –ù–∞–∑–∞–¥"`

### `process_from()`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 261)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `RouteCreate.waiting_for_from`

### `process_to()`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 287)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `RouteCreate.waiting_for_to`

### `process_time()`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 364)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `RouteCreate.waiting_for_time`

### `process_price()`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 450)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `RouteCreate.waiting_for_price`

### `process_seats()`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 486)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `RouteCreate.waiting_for_seats`

### `process_comment()`

- **–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 522)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `RouteCreate.waiting_for_comment`

### `process_new_value()`

- **–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 775)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `EditRoute.waiting_for_value`

### `edit_name_process()`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 188)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `EditProfileStates.waiting_for_name`

### `edit_bio_process()`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 305)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `EditProfileStates.waiting_for_bio`

### `edit_photo_process()`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 401)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `EditProfileStates.waiting_for_photo, F.photo`

### `edit_photo_invalid()`

- **–§–∞–π–ª:** `handlers\profile\edit.py` (—Å—Ç—Ä–æ–∫–∞ 444)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `EditProfileStates.waiting_for_photo`

### `process_from()`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 193)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `SearchStates.waiting_from`

### `process_to()`

- **–§–∞–π–ª:** `handlers\routes_list\search_handler.py` (—Å—Ç—Ä–æ–∫–∞ 243)
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** `SearchStates.waiting_to`

---

## üîÑ FSM –°–æ—Å—Ç–æ—è–Ω–∏—è

–í—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ø–æ—à–∞–≥–æ–≤—ã–µ –º–∞—Å—Ç–µ—Ä–∞):

### `RouteCreate`

**–§–∞–π–ª:** `handlers\route_create.py`

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**

- `waiting_for_from` ‚Üí `RouteCreate.waiting_for_from`
- `waiting_for_to` ‚Üí `RouteCreate.waiting_for_to`
- `waiting_for_date` ‚Üí `RouteCreate.waiting_for_date`
- `waiting_for_time` ‚Üí `RouteCreate.waiting_for_time`
- `waiting_for_price` ‚Üí `RouteCreate.waiting_for_price`
- `waiting_for_seats` ‚Üí `RouteCreate.waiting_for_seats`
- `waiting_for_comment` ‚Üí `RouteCreate.waiting_for_comment`
- `confirm` ‚Üí `RouteCreate.confirm`

### `EditRoute`

**–§–∞–π–ª:** `handlers\my_routes\edit_handler.py`

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**

- `waiting_for_value` ‚Üí `EditRoute.waiting_for_value`

### `EditProfileStates`

**–§–∞–π–ª:** `handlers\profile\edit.py`

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**

- `waiting_for_name` ‚Üí `EditProfileStates.waiting_for_name`
- `waiting_for_bio` ‚Üí `EditProfileStates.waiting_for_bio`
- `waiting_for_photo` ‚Üí `EditProfileStates.waiting_for_photo`

### `SearchStates`

**–§–∞–π–ª:** `handlers\routes_list\search_handler.py`

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**

- `waiting_from` ‚Üí `SearchStates.waiting_from`
- `waiting_to` ‚Üí `SearchStates.waiting_to`

---

## ‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä:

### `get_main_menu_keyboard()`

**–§–∞–π–ª:** `handlers\menu.py` (—Å—Ç—Ä–æ–∫–∞ 8)

**–ö–Ω–æ–ø–∫–∏:**

- `üîç –ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç` ‚Üí `search_route`
- `üöó –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç` ‚Üí `create_route`
- `üß≥ –ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏` ‚Üí `my_trips`
- `üó∫ –ú–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã` ‚Üí `my_routes`
- `üë§ –ü—Ä–æ—Ñ–∏–ª—å` ‚Üí `profile`

### `get_welcome_keyboard()`

**–§–∞–π–ª:** `handlers\menu.py` (—Å—Ç—Ä–æ–∫–∞ 25)

**–ö–Ω–æ–ø–∫–∏:**

- `‚úÖ –ü–æ–Ω—è—Ç–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å` ‚Üí `welcome:continue`

### `_kb_driver_decision()`

**–§–∞–π–ª:** `handlers\reply_system.py` (—Å—Ç—Ä–æ–∫–∞ 102)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `get_main_menu_keyboard()`

**–§–∞–π–ª:** `handlers\route_create.py` (—Å—Ç—Ä–æ–∫–∞ 21)

**–ö–Ω–æ–ø–∫–∏:**

- `üîç –ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç` ‚Üí `search_route`
- `üöó –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç` ‚Üí `create_route`
- `üß≥ –ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏` ‚Üí `my_trips`
- `üó∫ –ú–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã` ‚Üí `my_routes`
- `üë§ –ü—Ä–æ—Ñ–∏–ª—å` ‚Üí `profile`

### `_kb_route_actions_cancelled()`

**–§–∞–π–ª:** `handlers\my_routes\cancel_handler.py` (—Å—Ç—Ä–æ–∫–∞ 41)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_confirm()`

**–§–∞–π–ª:** `handlers\my_routes\cancel_handler.py` (—Å—Ç—Ä–æ–∫–∞ 50)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_route_actions()`

**–§–∞–π–ª:** `handlers\my_routes\details_handler.py` (—Å—Ç—Ä–æ–∫–∞ 13)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_back()`

**–§–∞–π–ª:** `handlers\my_routes\details_handler.py` (—Å—Ç—Ä–æ–∫–∞ 35)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_edit_menu()`

**–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 314)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_back_and_cancel()`

**–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 337)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_comment_action()`

**–§–∞–π–ª:** `handlers\my_routes\edit_handler.py` (—Å—Ç—Ä–æ–∫–∞ 346)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_route_actions()`

**–§–∞–π–ª:** `handlers\my_routes\list_handler.py` (—Å—Ç—Ä–æ–∫–∞ 12)

*–ö–Ω–æ–ø–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏*

### `_kb_footer()`

**–§–∞–π–ª:** `handlers\my_routes\list_handler.py` (—Å—Ç—Ä–æ–∫–∞ 34)

**–ö–Ω–æ–ø–∫–∏:**

- `üöó –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç` ‚Üí `create_route:from_my_routes`
- `üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é` ‚Üí `main_menu`

---

## üó∫Ô∏è –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞

–ö–∞—Ä—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏:

```
üè† –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ (/start, main_menu)
‚îÇ
‚îú‚îÄ üîç –ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç (search_route)
‚îÇ  ‚îî‚îÄ ...
‚îÇ
‚îú‚îÄ üöó –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç (create_route)
‚îÇ  ‚îú‚îÄ –û—Ç–∫—É–¥–∞? (RouteCreate.waiting_for_from)
‚îÇ  ‚îú‚îÄ –ö—É–¥–∞? (RouteCreate.waiting_for_to)
‚îÇ  ‚îú‚îÄ –î–∞—Ç–∞ (RouteCreate.waiting_for_date)
‚îÇ  ‚îú‚îÄ –í—Ä–µ–º—è (RouteCreate.waiting_for_time)
‚îÇ  ‚îú‚îÄ –¶–µ–Ω–∞ (RouteCreate.waiting_for_price)
‚îÇ  ‚îú‚îÄ –ú–µ—Å—Ç–∞ (RouteCreate.waiting_for_seats)
‚îÇ  ‚îú‚îÄ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (RouteCreate.waiting_for_comment)
‚îÇ  ‚îî‚îÄ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (RouteCreate.confirm)
‚îÇ
‚îú‚îÄ üß≥ –ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏ (my_trips)
‚îÇ  ‚îî‚îÄ ...
‚îÇ
‚îú‚îÄ üó∫Ô∏è –ú–æ–∏ –º–∞—Ä—à—Ä—É—Ç—ã (my_routes)
‚îÇ  ‚îú‚îÄ –î–µ—Ç–∞–ª–∏ (myroutes:details:ID)
‚îÇ  ‚îú‚îÄ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (myroutes:edit:ID)
‚îÇ  ‚îú‚îÄ –û—Ç–º–µ–Ω–∞ (myroutes:cancel:ID)
‚îÇ  ‚îî‚îÄ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (myroutes:restore:ID)
‚îÇ
‚îî‚îÄ üë§ –ü—Ä–æ—Ñ–∏–ª—å (profile)
   ‚îú‚îÄ –ü—Ä–æ—Å–º–æ—Ç—Ä
   ‚îú‚îÄ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   ‚îî‚îÄ –£–¥–∞–ª–µ–Ω–∏–µ
```

